%% build: latexmk -pdf -pvc prez.tex

\documentclass[dvipsnames,aspectratio=169]{beamer}
\usetheme{Madrid}

%% kill footline
\setbeamertemplate{footline}[frame number]{}
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{footline}{}

%% bibliography
\bibliographystyle{alpha}
\setbeamerfont{bibliography item}{size=\footnotesize}
\setbeamerfont{bibliography entry author}{size=\footnotesize}
\setbeamerfont{bibliography entry title}{size=\footnotesize}
\setbeamerfont{bibliography entry location}{size=\footnotesize}
\setbeamerfont{bibliography entry note}{size=\footnotesize}
\setbeamertemplate{bibliography item}{}

%% kill ball enumeration
\setbeamertemplate{enumerate items}[circle]
\setbeamertemplate{section in toc}[circle]

%% kill block shadows
\setbeamertemplate{blocks}[rounded][shadow=false]
\setbeamertemplate{title page}[default][colsep=-4bp,rounded=true]

%% kill ball itemize
\setbeamertemplate{itemize items}[circle]

%% --------------------------------------------------------------------------------

\usepackage[utf8]{inputenc}
%% \usepackage[hidelinks]{hyperref}
\usepackage{amsmath}
\usepackage{cite}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathpartir}
\usepackage{scalerel}
\usepackage{stmaryrd}
\usepackage{bm}
\usepackage{graphicx}

%% --------------------------------------------------------------------------------

%% HoTT style composition
\makeatletter
\DeclareRobustCommand{\sqcdot}{\mathbin{\mathpalette\morphic@sqcdot\relax}}
\newcommand{\morphic@sqcdot}[2]{%
  \sbox\z@{$\m@th#1\centerdot$}%
  \ht\z@=.33333\ht\z@
  \vcenter{\box\z@}%
}
\makeatother

\newcommand{\mi}[1]{\mathit{#1}}
\newcommand{\ms}[1]{\mathsf{#1}}
\newcommand{\mbb}[1]{\mathbb{#1}}
\newcommand{\mbf}[1]{\mathbf{#1}}
\newcommand{\bs}[1]{\boldsymbol{#1}}
\newcommand{\ap}{\ms{ap}}
\newcommand{\apd}{\ms{apd}}
\newcommand{\tr}{\ms{tr}}
\newcommand{\happly}{\ms{happly}}
\newcommand{\funext}{\ms{funext}}
\newcommand{\toind}{\to^{\ms{int}}}

\newcommand{\Tys}{\ms{Ty_{sig}}}
\newcommand{\Tms}{\ms{Tm_{sig}}}
\newcommand{\Us}{\ms{U_{sig}}}
\newcommand{\Els}{\ms{El_{sig}}}

\newcommand{\Ix}{\mi{Ix}}

\newcommand{\zero}{\ms{zero}}
\newcommand{\suc}{\ms{suc}}
\newcommand{\J}{\ms{J}}
\newcommand{\UIP}{\ms{UIP}}

\newcommand{\refl}{\mathsf{refl}}
\newcommand{\reflect}{\mathsf{reflect}}
\newcommand{\Reflect}{\mathsf{Reflect}}
\newcommand{\id}{\mathsf{id}}
\newcommand{\Con}{\mathsf{Con}}
\newcommand{\Sub}{\mathsf{Sub}}
\newcommand{\Tm}{\mathsf{Tm}}
\newcommand{\Ty}{\mathsf{Ty}}
\newcommand{\U}{\mathsf{U}}
\newcommand{\El}{\mathsf{El}}
\newcommand{\Id}{\mathsf{Id}}
\newcommand{\ID}{\mathsf{ID}}
\newcommand{\proj}{\mathsf{proj}}
\renewcommand{\tt}{\mathsf{tt}}
\newcommand{\blank}{\mathord{\hspace{1pt}\text{--}\hspace{1pt}}}
\newcommand{\ra}{\rightarrow}
\newcommand{\Set}{\mathsf{Set}}
\newcommand{\MetaTy}{\mathsf{MetaTy}}
\newcommand{\bMetaTy}{\mathbf{MetaTy}}
\newcommand{\Base}{\mathsf{Base}}
\newcommand{\In}{\mathsf{In}}
\newcommand{\PSh}{\mathsf{PSh}}
\newcommand{\Cat}{\mathsf{Cat}}
\newcommand{\base}{\mathsf{base}}
\newcommand{\SMod}{\mathsf{SMod}}
\newcommand{\FMod}{\mathsf{FMod}}
\newcommand{\bBase}{\mathbf{Base}}
\newcommand{\bIn}{\mathbf{In}}
\newcommand{\bPSh}{\mathbf{PSh}}
\newcommand{\bCat}{\mathbf{Cat}}
\newcommand{\bbase}{\mathbf{base}}

\newcommand{\Lift}{\Uparrow}
\newcommand{\ToS}{\mathsf{ToS}}
\newcommand{\ext}{\triangleright}
\newcommand{\emptycon}{\scaleobj{.75}\bullet}

\newcommand{\Pii}{\Pi}
\newcommand{\funi}{\Rightarrow}
\newcommand{\appi}{\mathsf{app}}
\newcommand{\lami}{\mathsf{lam}}

\newcommand{\fune}{\Rightarrow^{\ms{Ext}}}
\newcommand{\Pie}{\Pi^{\mathsf{Ext}}}
\newcommand{\appe}{\mathsf{app^{Ext}}}
\newcommand{\lame}{\mathsf{lam^{Ext}}}
\newcommand{\toe}{\to^{\ms{Ext}}}
\newcommand{\arre}{\Rightarrow^{\mathsf{Ext}}}
\newcommand{\lambdae}{\lambda^{\ms{Ext}}}

\newcommand{\Piinf}{\Pi^{\mathsf{ext}}}
\newcommand{\appinf}{\mathsf{app^{ext}}}
\newcommand{\laminf}{\mathsf{lam^{ext}}}
\newcommand{\laminfprime}{\mathsf{lam^{ext'}}}
\newcommand{\toinf}{\to^{\ms{ext}}}
\newcommand{\lambdainf}{\lambda^{\ms{ext}}}
\newcommand{\arrinf}{\Rightarrow^{\mathsf{ext}}}
\newcommand{\bPiinf}{\bs{\Piinf}}

\newcommand{\appitt}{\mathop{{\scriptstyle @}}}
\newcommand{\Refl}{\mathsf{Refl}}
\newcommand{\IdU}{\mathsf{IdU}}
\newcommand{\ReflU}{\mathsf{ReflU}}
\newcommand{\Sig}{\mathsf{Sig}}
\newcommand{\ToSSig}{\mathsf{ToSSig}}
\newcommand{\Subtype}{\mathsf{Subtype}}
\newcommand{\subtype}{\mathsf{subtype}}
\newcommand{\NatSig}{\mathsf{NatSig}}
\newcommand{\Sg}{\Sigma}
\newcommand{\flcwf}{\mathsf{flcwf}}
\newcommand{\SigTy}{\mathsf{SigTy}}
\newcommand{\SigTm}{\mathsf{SigTm}}
\newcommand{\SigU}{\mathsf{SigU}}
\newcommand{\tm}{\ms{tm}}
\newcommand{\ty}{\ms{ty}}

\newcommand{\Kfam}{\mathsf{K}}
\newcommand{\lamK}{\mathsf{lam}_{\K}}
\newcommand{\appK}{\mathsf{app}_{\K}}

\newcommand{\p}{\mathsf{p}}
\newcommand{\q}{\mathsf{q}}
\newcommand{\K}{\mathsf{K}}
\newcommand{\A}{\mathsf{A}}
\newcommand{\D}{\mathsf{D}}
\renewcommand{\S}{\mathsf{S}}
\newcommand{\arri}{\Rightarrow}
\newcommand{\syn}{\mathsf{syn}}
\newcommand{\SynSig}{\mathsf{SynSig}}
\newcommand{\bCon}{\bs{\Con}}
\newcommand{\bTy}{\bs{\Ty}}
\newcommand{\bSub}{\bs{\Sub}}
\newcommand{\bTm}{\bs{\Tm}}
\newcommand{\bGamma}{\bs{\Gamma}}
\newcommand{\bDelta}{\bs{\Delta}}
\newcommand{\bsigma}{\bs{\sigma}}
\newcommand{\bdelta}{\bs{\delta}}
\newcommand{\bepsilon}{\bs{\epsilon}}
\newcommand{\bt}{\bs{t}}
\newcommand{\bu}{\bs{u}}
\newcommand{\bA}{\bs{A}}
\newcommand{\ba}{\bs{a}}
\newcommand{\bb}{\bs{b}}
\newcommand{\bB}{\bs{B}}
\newcommand{\bid}{\bs{\id}}
\newcommand{\bemptycon}{\scaleobj{.75}{\bs{\bullet}}}
\newcommand{\bSet}{\bs{\Set}}
\newcommand{\bU}{\bs{\U}}
\newcommand{\bEl}{\bs{\El}}
\newcommand{\bPii}{\bs{\Pi}}
\newcommand{\bPie}{\bs{\Pie}}
\newcommand{\bappi}{\bs{\mathsf{app}}}
\newcommand{\blami}{\bs{\mathsf{lam}}}
\newcommand{\bId}{\bs{\Id}}
\newcommand{\bM}{\bs{\mathsf{M}}}
\newcommand{\bT}{\bs{\mathsf{T}}}
\newcommand{\bS}{\bs{\mathsf{S}}}
\newcommand{\bP}{\bs{\mathsf{P}}}
\newcommand{\bD}{\bs{\mathsf{D}}}
\newcommand{\bI}{\bs{\mathsf{I}}}
\newcommand{\bK}{\bs{\mathsf{K}}}

\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\ulGamma}{\ul{\Gamma}}
\newcommand{\ulDelta}{\ul{\Delta}}
\newcommand{\ulgamma}{\ul{\gamma}}
\newcommand{\ulOmega}{\ul{\Omega}}
\newcommand{\uldelta}{\ul{\delta}}
\newcommand{\ulsigma}{\ul{\sigma}}
\newcommand{\ulnu}{\ul{\nu}}
\newcommand{\ulepsilon}{\ul{\epsilon}}
\newcommand{\ulemptycon}{\ul{\emptycon}}
\newcommand{\ult}{\ul{t}}
\newcommand{\ulu}{\ul{u}}
\newcommand{\ulA}{\ul{A}}
\newcommand{\ula}{\ul{a}}
\newcommand{\ulB}{\ul{B}}
\newcommand{\tos}{\mathsf{tos}}
\newcommand{\coe}{\mathsf{coe}}
\newcommand{\coh}{\mathsf{coh}}
\newcommand{\llb}{\llbracket}
\newcommand{\rrb}{\rrbracket}
\newcommand{\sem}[1]{\llb#1\rrb}

\newcommand{\Var}{\ms{Var}}
\newcommand{\var}{\ms{var}}
\newcommand{\app}{\ms{app}}
\newcommand{\vz}{\ms{vz}}
\newcommand{\vs}{\ms{vs}}
\newcommand{\Alg}{\ms{Alg}}
\newcommand{\Mor}{\ms{Mor}}
\newcommand{\DispAlg}{\ms{DispAlg}}
\newcommand{\Section}{\ms{Section}}
\newcommand{\Initial}{\ms{Initial}}
\newcommand{\Inductive}{\ms{Inductive}}
\newcommand{\TmAlg}{\ms{TmAlg}}
\newcommand{\Rec}{\ms{Rec}}
\newcommand{\Ind}{\ms{Ind}}
\newcommand{\Obj}{\ms{Obj}}
\newcommand{\Nat}{\ms{Nat}}
\newcommand{\Bool}{\ms{Bool}}
\newcommand{\mbbC}{\mbb{C}}
\newcommand{\hmbbC}{\hat{\mbb{C}}}
\newcommand{\mbbD}{\mbb{D}}
\newcommand{\lam}{\ms{lam}}

\newcommand{\true}{\ms{true}}
\newcommand{\false}{\ms{false}}
\newcommand{\up}{\uparrow}
\newcommand{\down}{\downarrow}

\newcommand{\lab}{\langle}
\newcommand{\rab}{\rangle}
\newcommand{\defn}{:\equiv}
\newcommand{\yon}{\ms{y}}
\newcommand{\lub}{\,\sqcup\,}
\newcommand{\bmsA}{\bs{\ms{A}}}


%% --------------------------------------------------------------------------------

\title{A Generalized Logical Framework}
\author{\textbf{András Kovács\inst{1}},\,\,Christian Sattler\inst{1}}
\institute{
  \inst{1}%
       {University of Gothenburg \& Chalmers University of Technology}
}
\date{17 Apr 2025, EuroProofNet WG6 meeting, Genoa}
\begin{document}


\frame{\titlepage}

\begin{frame}{Overview}

\begin{enumerate}
\item Two-level type theories (2LTT):
  \begin{itemize}
    \item metaprogramming over a \textbf{single model} of a \textbf{single type theory}.
    \pause
    \item the chosen model is defined \textbf{outside the system}.
    \pause
    \item \textbf{only a second-order} view on the model.
  \end{itemize}
\pause
\item Generalized logical framework (GLF):
  \begin{itemize}
    \item metaprogramming over \textbf{any number of models} of \textbf{any number of type theories}.
    \item models are defined \textbf{inside the system}.
    \item both a \textbf{first-order} and a \textbf{second-order} view on each model.
  \end{itemize}
\end{enumerate}
\pause
\vspace{1em}

\emph{In this talk}:
\begin{enumerate}
\item A syntax of GLF + examples + increasing amount of syntactic sugar.
\item A short overview of semantics.
\end{enumerate}

\end{frame}

\begin{frame}{GLF basic universes \& type formers}

\begin{block}{}
\vspace{-1em}
\begin{alignat*}{3}
  & \bSet   &&           \hspace{8em}&& \text{A universe that supports ETT.}\\
  & \bBase  && : \bSet                 && \text{Sort of ``base categories''.} \\
  & \mbf{1} && : \bBase                && \text{The terminal category as a base category.} \\
  & \bPSh   && : \bBase \to \bSet      && \text{Universes of presheaves. Cumulativity: $\PSh_i \subseteq \Set$. Supports ETT.}\\
  &        &&                          && \text{We can only eliminate from $\PSh_i$ to $\PSh_i$.} \\
  & \bCat_i && : \bPSh_i               && := \text{\emph{type of categories in $\PSh_i$}} \\
  & \bIn    &&: \bCat_i \to \bSet      && \text{``Permission token'' for working in presheaves over some $C : \Cat_i$.} \\
  & \bbase  &&: \bIn\,C \to \bBase     && \text{``Using the permission''}.
\end{alignat*}
\end{block}
\vspace{1em}

{\small We use type-in-type everywhere for simplicity, i.e.\ $\Set : \Set$ and $\PSh_i : \PSh_i$.}

\end{frame}

\begin{frame}{Basic things we can do}
\begin{block}{}
\vspace{-0.6em}
{\footnotesize
  \[ \Set : \Set \hspace{3em} \Base : \Set \hspace{3em} \mbf{1} : \Base \hspace{3em} \PSh : \Base \to \Set \]
  \[ \Cat_i : \PSh_i := \text{\emph{type of cats in $\PSh_i$}} \hspace{3em} \In : \Cat_i \to \Set \hspace{3em} \base : \In\,\mbbC \to \Base \]
}
\end{block}
\vspace{2em}

$\PSh_1$ is a universe supporting ETT, semantically a universe of sets.
\vspace{1em}

We can define some $\mbbC : \Cat_1$, where $\ms{Obj}(\mbbC) : \PSh_1$.
\vspace{1em}

Now, \alert{under the assumption} of $i : \In\,\mbbC$, we can form the universe $\PSh_{(\base\,i)}$, which is semantically the universe of
presheaves over $\mbbC$.
\vspace{1em}

\emph{Syntax sugar:} we'll omit $\base$ in the following.
\vspace{1em}

At this point, we have no interesting interaction between $\PSh_1$ and $\PSh_i$.
\vspace{3em}

\end{frame}

\begin{frame}{Example: embedding pure lambda calculus}
%% \begin{block}{}
%% \vspace{-1.1em}
%% {\footnotesize
%% \begin{alignat*}{5}
%%   & \Set   &&: \Set                 && \Cat_i &&: \PSh_i := \text{\emph{type of cats in $\PSh_i$}} \\
%%   & \Base  &&: \Set                 && \In    &&: \Cat_i \to \Set \\
%%   & \PSh   &&: \Base \to \Set \quad && \base  &&: \In\,C \to \Base
%% \end{alignat*}
%% }
%% \end{block}

\vspace{1em}
A \textbf{second-order model of pure LC} in $\PSh_i$ consists of:
\begin{alignat*}{3}
  & \Tm &&: \PSh_i \\
  & \lam &&: (\Tm \to \Tm) \to \Tm \\
  & \blank\!\$\!\blank &&: \Tm \to \Tm \to \Tm \\
  & \beta && : \lam\,f\,\$\,t = f\,t \\
  & \eta && : \lam\,(\lambda x.\,t\,\$\,x) = t
\end{alignat*}

We define $\SMod_i : \PSh_i$ as the above $\Sigma$-type.
\vspace{2em}
\end{frame}

\begin{frame}{Example: embedding pure lambda calculus}
%% \begin{block}{}
%% \vspace{-1.1em}
%% {\footnotesize
%% \begin{alignat*}{5}
%%   & \Set   &&: \Set                 && \Cat_i &&: \PSh_i := \text{\emph{type of cats in $\PSh_i$}} \\
%%   & \Base  &&: \Set                 && \In    &&: \Cat_i \to \Set \\
%%   & \PSh   &&: \Base \to \Set \quad && \base  &&: \In\,C \to \Base
%% \end{alignat*}
%% }
%% \end{block}
%% \vspace{1em}

A \textbf{first-order model of pure LC} consists of:
\begin{itemize}
\item A category of contexts and substitutions with $\Con : \PSh_i$, $\Sub : \Con \to \Con \to \PSh_i$ and terminal
      object $\emptycon$.
\item $\Tm : \Con \to \PSh_i$, plus a term substitution operation.
\item A context extension operation $\blank\ext : \Con \to \Con$ such that $\Sub\,\Gamma\,(\Delta\,\ext) \simeq \Sub\,\Gamma \times \Tm\,\Gamma$.
\item A natural isomorphism $\Tm\,(\Gamma\,\ext) \simeq \Tm\,\Gamma$ whose components are $\lambda$ and application.
\end{itemize}
\vspace{1em}
We define $\FMod_i : \PSh_i$ as the above $\Sigma$-type.

\vspace{1em}
$\FMod$ is mechanically derivable from $\SMod$.\footnote{Ambrus Kaposi \& Szumi Xie: \emph{Second-Order Generalised Algebraic Theories}.}

\end{frame}

\begin{frame}{Example: embedding pure lambda calculus}

\end{frame}


%% For each theory

%% Let's look at pure LC as an embedded theory. For each


%% \end{frame}

%% \section{Introduction}
%% \begin{frame}
%%   \frametitle{Outline}
%%   \tableofcontents[currentsection]
%% \end{frame}

%% \begin{frame}{Introduction}

%% ``Abstract'' algebraic signatures:
%%   \begin{itemize}
%%     \item Finite product/limit categories, contextual cats, representable map cats.
%%     \item \emph{Far from proof assistant implementations}.
%%   \end{itemize}
%% \vspace{1em}

%% Sketches:
%%   \begin{itemize}
%%     \item \emph{Still far from implementations.}
%%   \end{itemize}
%% \vspace{1em}

%% ``Syntactic'' signatures:
%% \begin{itemize}
%%   \item CIC signatures, GATs.
%%   \item \emph{Formally tedious and poorly structured.}
%% \end{itemize}
%% \vspace{1em}

%% \end{frame}

%% \begin{frame}{Introduction}

%% A \textbf{theory of signatures (ToS)} is a type theory where algebraic signatures
%% can be defined.
%% \vspace{1em}

%% The semantics of signatures is given by a model of a ToS.
%% \vspace{1em}

%% \begin{block}{Goals}
%% \begin{enumerate}
%%   \item Adequacy in implementation:
%%     \begin{itemize}
%%       \item Exact computation of induction principles and $\beta$-rules.
%%       \item Low encoding overheads.
%%       \item Amenable to elaboration, perhaps also metaprogramming.
%%     \end{itemize}
%%   \item The theory of signatures is itself algebraic (perhaps even self-describing).
%%   \item Semantics in categories of algebras.
%% \end{enumerate}
%% \end{block}

%% \end{frame}

%% \section{High-Level Syntax}
%% \begin{frame}
%%   \frametitle{Outline}
%%   \tableofcontents[currentsection]
%% \end{frame}

%% \begin{frame}{Framework}

%% We work in a type theory with \textbf{four universes}:
%% \begin{enumerate}
%%  \item $\Set$: universe of metatheoretic types (in the sense of 2LTT).
%%  \item $\Sig$: universe of signatures.
%%  \item $\Sort$: universe of ``algebraic sorts''.
%%  \item $\mbbC$: the category where semantic algebras live (internally).
%% \end{enumerate}
%% \vspace{1em}
%% \textbf{Russell-style cumulative universes:}
%% \begin{alignat*}{3}
%%   & \Sort \subseteq \Sig \subseteq \Set \hspace{2em} && \Sort : \Sig : \Set\\
%%   & \mbbC \subseteq \Set                             && \mbbC : \Set
%% \end{alignat*}
%% \textbf{Restriction on elimination:}
%% \begin{itemize}
%%   \item From $\mbbC$, only eliminate to $\mbbC$.
%%   \item From $\Sig$ and $\Sort$, only eliminate to $\Sig$.
%% \end{itemize}

%% \end{frame}

%% \begin{frame}{Framework - type formers}

%% \begin{block}{}
%%   \begin{itemize}
%%   \item $\Sort \subseteq \Sig \subseteq \Set$
%%   \item $\mbbC \subseteq \Set$
%%   \item From $\mbbC$, only eliminate to $\mbbC$.
%%   \item From $\Sig$ and $\Sort$, only eliminate to $\Sig$.
%%   \end{itemize}
%% \end{block}
%% \begin{block}{General Assumptions}
%%   \begin{itemize}
%%   \item $\Set$ is closed under ETT type formers.
%%   \item $\Sig$ is closed under $\top$ and $\Sigma$.
%%   \end{itemize}
%% \end{block}
%% \vspace{1em}

%% By varying type formers in $\Sig$ and $\Sort$, we can describe numerous
%% classes of inductive signatures.
%% \vspace{1em}

%% We look at several of these in the following.
%% \end{frame}

%% \begin{frame}{Closed inductive-inductive signatures}
%% \begin{block}{}
%%   \begin{itemize}
%%   \item $\Sort \subseteq \Sig \subseteq \Set$
%%   \item $\mbbC \subseteq \Set$
%%   \item From $\mbbC$, only eliminate to $\mbbC$.
%%   \item From $\Sig$ and $\Sort$, only eliminate to $\Sig$.
%%   \end{itemize}
%% \end{block}
%% Close $\Sig$ under dependent functions with $\Sort$ domains:
%% \begin{mathpar}
%%   \inferrule*{A : \Sort \\ B : A \to \Sig}
%%              {(a : A) \to B\,a : \Sig}
%% \end{mathpar}
%% \small{(+ $\lambda$, application)}

%% \small{\emph{Remark:} $A \to \Sig$ above is a metatheoretic function type in $\Set$}
%% \begin{exampleblock}{}
%%   \vspace{-1.3em}
%%   \begin{alignat*}{3}
%%     & \rlap{$\ms{ConTySig} : \Sig$} \\
%%     & \ms{ConTySig} := && &&\,(\Con : \Sort) \times (\Ty : \Con \alert{\to} \Sort)\\
%%     &           && \times &&\,(\blank\!\ext\!\blank : (\Gamma : \Con) \alert{\to} \Ty\,\Gamma \alert{\to} \Con) \times ...
%%   \end{alignat*}
%% \end{exampleblock}
%% \end{frame}

%% \begin{frame}{Open inductive-inductive signatures}

%% Close $\Sig$ under dependent functions with $\mbbC$ domains:
%% \begin{mathpar}
%%   \inferrule*{A : \mbbC \\ B : A \to \Sig}
%%              {(a : A) \to B\,a : \Sig}
%% \end{mathpar}
%% \small{(+ $\lambda$, application)}
%% \vspace{1em}
%% \begin{exampleblock}{}
%%   \vspace{-1.3em}
%%   \begin{alignat*}{3}
%%     & \ms{ListSig} : \mbbC \to \Sig \\
%%     & \ms{ListSig}\,A\,:= (\ms{List} : \Sort) \times (\ms{nil} : \ms{List}) \times (\ms{cons} : A \alert{\to} \ms{List} \to \ms{List})
%%   \end{alignat*}
%% \end{exampleblock}
%% \vspace{1em}

%% \small{
%% Possible simple $\ms{ListSig}$ semantics:
%% \vspace{1em}

%% \emph{A function sending each object $A$ of a finite product category $\mbbC$ to
%% the category of $A$-list algebras that are internal to $\mbbC$.}
%% }

%% \end{frame}

%% \begin{frame}{Finitary quotient inductive-inductive signatures}

%% Close $\Sig$ under extensional equality:
%% \begin{mathpar}
%%   \inferrule*{A : \Sig \\ x : A \\ y : A}
%%              {x = y : \Sig}
%% \end{mathpar}
%% \small{(+ $\refl$, equality reflection)}
%% \vspace{1em}

%% \begin{exampleblock}{}
%%   \vspace{-1.3em}
%%   \begin{alignat*}{3}
%%     & \ms{QuotientSig} : (A : \mbbC) \to (R : A \to A \to \mbbC) \to \Sig \\
%%     & \ms{QuotientSig}\,A\,R := (A/R : \Sort) \times (|\blank| : A \to A/R) \times (\ms{quot} : R\,x\,y \to |x| \alert{=} |y|)
%%   \end{alignat*}
%% \end{exampleblock}
%% \end{frame}


%% \begin{frame}{Infinitary quotient inductive-inductive signatures}

%% Drop extensional equality from $\Sig$, but add it to $\Sort$
%% instead.\footnote{There's a semantic issue in mixing extensional $\Sig$ equality with infinitary branching.}
%% \vspace{1em}

%% Also close $\Sort$ under dependent functions with $\mbbC$ domains:
%% \begin{mathpar}
%%   \inferrule*{A : \mbbC \\ B : A \to \Sort}
%%              {(x : A) \to B : \Sort}
%% \end{mathpar}
%% \small{(+ $\lambda$, application)}
%% \vspace{1em}
%% \begin{exampleblock}{}
%%   \vspace{-1.3em}
%%   \begin{alignat*}{3}
%%     & \ms{WSig} : (A : \mbbC) \to (B : A \to \mbbC) \to \Sig \\
%%     & \ms{WSig}\,A\,B\,:= (\ms{W} : \Sort) \times (\ms{sup} : (a : A) \to (B\,a \alert{\to} \ms{W}) \to \ms{W})
%%   \end{alignat*}
%% \end{exampleblock}
%% \vspace{1em}
%% At this point, we can specify every QII type from the HoTT book.

%% \vspace{1em}
%% E.g. Cauchy reals, surreals, the cumulative hierarchy of sets.

%% \end{frame}

%% \begin{frame}{Higher inductive-inductive signatures}

%% We close $\Sig$ and $\Sort$ under \alert{intensional} identity.
%% \vspace{1em}

%% \begin{exampleblock}{}
%%   \vspace{-1.3em}
%%   \begin{alignat*}{3}
%%     &\rlap{$\ms{TorusSig} : \Sig$} \\
%%     & \ms{TorusSig} := && &&\,(\ms{T}^2 : \Sort) \times (\ms{b} : \ms{T}^2) \times (\p : \ms{b} = \ms{b}) \times (\q : \ms{b} = \ms{b}) \\
%%     &  && \times &&\,(\ms{t} : \p \sqcdot \q = \q \sqcdot \p)
%%   \end{alignat*}
%% \end{exampleblock}
%% \vspace{1em}
%% Path composition $\blank\sqcdot\blank$ is definable from $\ms{J}$.

%% \end{frame}


%% \begin{frame}{Preliminary semantics}

%% \begin{block}{}
%%   \vspace{-1.3em}
%%   \begin{alignat*}{4}
%%     & \text{closed  }\,A : \Sig &&\,\,\Longrightarrow&& \text{ a finitely complete } \\
%%     &  && &&\text{ category of algebras}\\
%%     & \text{closed  }\,f : A \to B \text{ with } A,\,B : \Sig &&\,\,\Longrightarrow&& \text{ finitely continuous functor}
%%   \end{alignat*}
%% \end{block}
%% \vspace{1em}
%% We have a simple directed type theory.
%% \vspace{1em}

%% We can do more than just write signatures:
%% \begin{itemize}
%% \item The \emph{erasure map} $\ms{NatSig} \to \ms{ListSig}$ which forgets list elements
%%       is an \alert{ornament} (see McBride, Dagand).
%% \item Various \alert{model constructions} of type theories can be defined as $\Sig$
%%       functions. Most \emph{syntactic models} can be rephrased in this way.
%% \item $\Sig$ equivalences yield isomorphisms or equivalences of categories (depending
%%       on the exact semantics).
%% \end{itemize}
%% \end{frame}


%% \section{Lower-Level Syntax and Semantics}
%% \begin{frame}
%%   \frametitle{Outline}
%%   \tableofcontents[currentsection]
%% \end{frame}

%% \begin{frame}{Setup \& overview}

%% The high-level syntax is a \textbf{2LTT whose inner level is a theory of signatures}.
%% \vspace{1em}

%% We compile values in $\Sig$ and $\Sort$ to syntax in a formal ToS,
%% using the ``standard'' presheaf model.
%% \vspace{1em}

%% The ToS syntax is an initial structured cwf:
%% \begin{itemize}
%%   \item Types as $\Ty\,\Gamma$, terms as $\Tm\,\Gamma\,A$.
%%   \item Tarski-style universe $\Sort : \Ty\,\Gamma$ with
%%         $\El : \Tm\,\Gamma\,\Sort \to \Ty\,\Gamma$.
%%   \item $A : \Sig$ is compiled to a type.
%%   \item $A : \Sort$ is compiled to a term with type $\Sort$.
%%   \item $\Ty$ and $\Sort$ are closed under previous $\Sig$ and $\Sort$
%%         type formers.
%% \end{itemize}

%% \end{frame}

%% \begin{frame}{Setup \& overview}

%% The ToS syntax lives in \textbf{yet another 2LTT}, where $\mbbC$ is
%% the inner level.
%% \vspace{1em}

%% We have Tarski-style $\mbbC : \Set$ and $\El_\mbbC : \mbbC \to \Set$.
%% \vspace{1em}

%% ToS type formers may refer to this $\mbbC$, e.g.:
%% \[ \Pi_{\mbbC\,\Ty} : (A : \mbbC) \to (\El_\mbbC\,A \to \Ty\,\Gamma) \to \Ty\,\Gamma \]
%% \[ \Pi_{\mbbC\,\Sort} : (A : \mbbC) \to (\El_\mbbC\,A \to \Tm\,\Gamma\,\Sort) \to \Tm\,\Gamma\,\Sort \]

%% We consider three ToS-es and their semantics.
%% \begin{center}
%% \begin{tabular}{|c|c|}
%% \hline
%%   \textbf{ToS} & \textbf{semantics of types} \\
%% \hline
%%   finitary QII & displayed cwf \\
%% \hline
%%   infinitary QII & cwf isofibration \\
%% \hline
%%   higher inductive-inductive & complete inner Reedy fibration\footnote{TYPES 2020, Capriotti \& Sattler: \emph{Higher categories of algebras for higher inductive definitions.}} \\
%% \hline
%% \end{tabular}
%% \end{center}




%% \end{frame}

%% \begin{frame}{Finitary QII semantics}

%% \begin{block}{Theory of signatures}
%% \begin{itemize}
%% \item $\Ty$ is closed under $\Sigma$, $\top$, extensional $\blank=\blank$, $\mbbC$-small products,
%%   $\Sort$-small products
%% \item $\Sort$ is closed under \textbf{no type formers}
%% \end{itemize}
%% \end{block}

%% \textbf{Design choice:} semantic contexts are \emph{cwfs} + extra structure (not categories!)
%% \vspace{1em}

%% The notion of \textbf{induction} can be directly defined in a cwf $\mbbC$:
%% \begin{alignat*}{3}
%%   & \ms{Inductive} : \ms{Obj}_\mbbC \to \Set \\
%%   & \ms{Inductive}\,\Gamma := (A : \Ty_\mbbC\,\Gamma) \to \Tm_\mbbC\,\Gamma\,A
%% \end{alignat*}

%% ``An algebra $\Gamma$ is inductive if every displayed algebra over it has a section.''

%% \end{frame}

%% \begin{frame}{Finitary QII semantics - finite limit cwfs}

%% \begin{definition}{}
%% \textbf{Finite limit cwf (flcwf)}: cwf + $\Sigma$ + extensional identity + constant families (``democracy'')
%% \end{definition}
%% \vspace{1em}

%% Clairambault \& Dybjer: flcwfs are (bi)equivalent to finitely complete categories.
%% \vspace{1em}

%% We model ToS contexts as flcwfs.

%% \begin{theorem}
%% In any flcwf, induction is equivalent to initiality.
%% \end{theorem}

%% \end{frame}

%% \begin{frame}{Finitary QII semantics - summary}

%% We assume that $\mbbC$ is closed under $\top$, $\Sigma$ and extensional identity.
%% \vspace{1em}

%% (We can model $\mbbC$ using any finitely complete category)
%% \begin{alignat*}{3}
%%   & \text{contexts:}                  && \text{flcwfs}\\
%%   & \text{types:}                     && \text{displayed flcwfs}\\
%%   & \text{substitutions:}\hspace{2em} && \text{strictly structure-preserving flcwf morphisms}\\
%%   & \text{terms:}                     && \text{strictly structure-preserving flcwf sections}\\
%%   & \text{$\Sort$:}                   && \text{the flcwf of types in $\mbbC$}\\
%%   & \text{$\El$:}                     && \text{discrete displayed flcwf formation}\\
%%   & \blank\!=\blank\!:                && \text{pointwise equality of strict flcwf sections}\\
%%   & \Pi_{\mbbC\,\Ty}                    && \text{$\mbbC$-small products}\\
%%   & \Pi_{\Sort\,\Ty}                    && \text{products with discrete index domains}
%% \end{alignat*}

%% \end{frame}

%% \begin{frame}{Infinitary QII semantics}

%% \begin{block}{Theory of signatures}
%%   \begin{itemize}
%%     \item $\Ty$ is closed under $\Sigma$, $\top$, $\mbbC$-small products, $\Sort$-small products.
%%     \item $\Sort$ is closed under $\Sigma$, $\top$, $\mbbC$-small products, extensional $\blank\!=\!\blank$.
%%   \end{itemize}
%% \end{block}

%% The previous semantics doesn't work!
%% \vspace{1em}

%% The $\Sort$ type formers (e.g. $\top : \Tm\,\Gamma\,\Sort$)
%% \text{don't preserve} limits strictly, only up to isos.
%% \vspace{1em}

%% We switch to weak limit-preservation everywhere. This is technically more complicated.
%% \vspace{1em}

%% \end{frame}

%% \begin{frame}{Infinitary QII semantics - summary}

%% We assume that $\mbbC$ is closed under $\top$, $\Sigma$, extensional identity
%% and \alert{$\Pi$}.

%% \vspace{1em}

%% (We can model $\mbbC$ using any LCCC)
%% \begin{alignat*}{3}
%%   & \text{contexts:}                  && \text{flcwfs}\\
%%   & \text{types:}                     && \text{flcwf isofibrations}\\
%%   & \text{substitutions:}\hspace{2em} && \text{weak cwf morphisms}\\
%%   & \text{terms:}                     && \text{weak cfw sections}\\
%%   & \text{$\Sort$:}                   && \text{the flcwf of types in $\mbbC$}\\
%%   & \text{$\El$:}                     && \text{discrete flcwf isofibration formation}\\
%%   & \blank\!=\blank\!:                && \text{pointwise equality of weak sections}\\
%%   & \Pi_{\mbbC\,\Ty}                    && \text{$\mbbC$-small indexed products}\\
%%   & \Pi_{\Sort\,\Ty}                    && \text{products with discrete index domains}\\
%%   & \Pi_{\mbbC\,\Sort}                  && \text{\alert{internal} $\mbbC$-small products}\\
%% \end{alignat*}

%% \end{frame}

%% \begin{frame}{HII semantics (Capriotti \& Sattler)}

%% \begin{block}{Theory of signatures}
%%   \begin{itemize}
%%   \item $\Ty$ is closed under $\Sigma$, $\top$, $\mbbC$-small products, $\Sort$-small products,
%%         intensional $\blank\!=\!\blank$.
%%     \item $\Sort$ is closed under $\Sigma$, $\top$, $\mbbC$-small products, intensional $\blank\!=\!\blank$.
%%   \end{itemize}
%% \end{block}

%% We assume that $\mbbC$ models HoTT (we work in the ``original'' 2LTT).
%% \begin{alignat*}{3}
%%   & \text{contexts:}\hspace{2em}      && \text{marked semisimplicial types}\\
%%   & \text{types:}                     && \text{complete inner Reedy fibrations}\\
%%   & \text{$\Sort$:}                   && \text{universe of left fibrations}
%% \end{alignat*}
%% \vspace{-1.5em}
%% \begin{itemize}
%%   \item This also yields a \textbf{structure identity principle} for HII theories.
%%   \item In an extra step we can add finite limits to categories of algebras.
%%   \item In yet another step we can show equivalence of induction and initiality.
%% \end{itemize}


%% \end{frame}

%% \section{Term Algebras}
%% \begin{frame}
%%   \frametitle{Outline}
%%   \tableofcontents[currentsection]
%% \end{frame}

%% \begin{frame}{Term algebras}

%% We'd like \emph{sufficient conditions} on $\mbbC$ to have initial algebras
%% for each signature.
%% \vspace{1em}

%% In other words: construct initial algebras from simple ``type formers''.
%% \vspace{1em}

%% Idea:
%% \begin{enumerate}
%% \item If $\mbbC$ has an initial algebra for a ToS, we can use terms and types
%%       to build initial algs.
%% \item We construct the initial ToS model from simpler type formers.
%% \end{enumerate}
%% \vspace{1em}

%% Currently this works only for some ToS-es \& semantics.

%% \end{frame}

%% \begin{frame}{Term algebras for (in)finitary QII signatures}

%% \begin{block}{Assumptions}
%% \begin{itemize}
%% \item $\mbbC$ is a model of ETT.
%% \item $\mbbC$ has an initial ToS model.
%% \item We fix a syntactic ToS context $\Omega$ (as a signature).
%% \end{itemize}
%% \end{block}
%% \vspace{1em}
%% Each inductive sort in $\Omega$ is modeled as a set of terms.
%% \vspace{1em}

%% For example, if $\Omega = \ms{NatSig}$:
%% \[  \Nat := \Tm\,(\emptycon\ext(N : \Sort)\ext(z : \El\,N)\ext(s: N \to \El\,N))\,(\El\,N) \]

%% \end{frame}

%% \begin{frame}{Term algebras for (in)finitary QII signatures}

%% \begin{enumerate}
%% \item An \textbf{internal algebra of $\Omega$} in a ToS model is a
%%       morphism from the empty context to $\Omega$.
%% \item By induction on ToS we show that any internal algebra yields
%%       an $\Omega$-algebra in $\mbbC$ (the term algebra).
%% \item In the slice model $\ms{ToS}/\Omega$ the identity morphism from $\Omega$ to $\Omega$
%%       gets us an internal algebra, hence also a term algebra.
%% \item By another induction on ToS, we can directly show that the term algebra
%%       is initial.
%% \end{enumerate}
%% \vspace{1em}

%% \begin{theorem}
%% If a model of ETT supports syntax for (in)finitary QII signatures, it supports
%% all (in)finitary QII types.
%% \end{theorem}

%% \end{frame}

%% \begin{frame}{Reductions to simple type formers}

%% The remaining job is construct ToS syntaxes from simple type formers.
%% \vspace{0.5em}

%% This is the \textbf{initiality construction} popularized by Voevodsky.
%% \vspace{0.5em}

%% Results so far:
%% \begin{itemize}
%% \item ToS for \textbf{finitary inductive-inductive signatures} is constructible
%%       from just \textbf{W-types}.
%% \item ToS for \textbf{closed QII signatures} was almost\footnote{The constructed theory is not exactly the same, but it can be plausibly adjusted to our use case.} constructed by
%%       Brunerie and De Boer in Agda from \textbf{propositional extensionality, inductive types and
%%         simple quotients by relations}.
%% \end{itemize}


%% Open problems:
%% \begin{itemize}
%% \item Fiore, Pitts, Steenkamp\footnote{arXiv:2101.02994: \emph{Quotients, inductive types, and quotient inductive types}}: a class of infinitary QITs is constructible from the WISC axiom.
%%       Can we extend this to infinitary QIITs?
%% \item The case for HIITs is open.
%% \end{itemize}

%% \end{frame}



\end{document}
